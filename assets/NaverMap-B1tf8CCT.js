import{r as t,j as r,a as w}from"./index-NQW_x_Sn.js";const f=()=>{const i=t.useRef(null),[o,p]=t.useState(null),[a,s]=t.useState(!0),c=37.291614,l=127.012637,u=()=>window.location.hostname==="localhost"?"http://localhost:8080":"https://port-0-java-springboot-mbebujvsfb073e29.sel4.cloudtype.app";return t.useEffect(()=>{(async()=>{s(!0);try{const e=u();console.log("Fetching from:",`${e}/api/naver/client-id`);const d=await w.get(`${e}/api/naver/client-id`,{withCredentials:!0});console.log("Response data:",d.data),p(d.data.clientId)}catch(e){console.error("클라이언트 ID 가져오기 실패:",e.response?e.response.status:e.message,e.response?e.response.data:{}),e.response&&e.response.status===401&&p("o2rbo106py")}finally{s(!1)}})()},[]),t.useEffect(()=>{if(a||!o)return;const n=document.createElement("script");return n.src=`https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=${o}&callback=initMap`,n.async=!0,n.onload=()=>{window.naver&&window.naver.maps?(window.initMap=()=>{const e=new window.naver.maps.Map(i.current,{center:new window.naver.maps.LatLng(c,l),zoom:13,mapTypeControl:!0,mapTypeId:window.naver.maps.MapTypeId.SATELLITE,draggable:!0,pinchZoom:!0,scrollWheel:!0});new window.naver.maps.Marker({position:new window.naver.maps.LatLng(c,l),map:e,draggable:!1})},window.initMap()):console.error("네이버 지도 API 로드 실패 - window.naver 또는 naver.maps가 정의되지 않음")},n.onerror=()=>console.error("네이버 지도 API 로드 실패"),document.head.appendChild(n),()=>{document.head.removeChild(n),delete window.initMap}},[o,a]),window.navermap_authFailure=function(){console.error("네이버 지도 API 인증 실패"),s(!1)},r.jsx("div",{children:a?r.jsx("p",{children:"로드 중..."}):r.jsx("div",{ref:i,style:{width:"100%",height:"500px"}})})};export{f as default};
//# sourceMappingURL=NaverMap-B1tf8CCT.js.map
