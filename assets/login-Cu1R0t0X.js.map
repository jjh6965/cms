{"version":3,"file":"login-Cu1R0t0X.js","sources":["../../src/service/login.js"],"sourcesContent":["import { fetchData } from '../utils/dataUtils';\nimport common from '../utils/common';\nimport useStore from '../store/store';\nimport api from '../utils/api';\n\nexport const performLogin = async (gubun, empNo, empPwd, navigate, setError) => {\n  try {\n    const response = await fetchData(api, common.getServerUrl('auth/login'), { empNo, empPwd });\n    \n    if (!response.success) {\n      throw new Error(response.errMsg || '아이디 또는 비밀번호가 잘못되었습니다.');\n    } else {\n      if (response.errMsg !== '') {\n        setError(response.errMsg);\n      } else {\n        if (response.data.user.pwdChgYn === 'Y') {\n          return response;\n        }\n\n        const { setUser } = useStore.getState();\n        setUser({\n          ...response.data.user,\n          expiresAt: response.data.expiresAt * 1000,\n        });\n\n        if (gubun === 'web') navigate('/main', { replace: true });\n        else navigate('/mobile/main', { replace: true });\n\n        // alert(\"로그인 성공: gubun=\" + gubun);\n      }\n    }\n  } catch (error) {\n    console.error('Login error:', error.message);\n    setError(error.message || '로그인에 실패했습니다. 다시 시도해주세요.');\n  }\n  return null;\n};"],"names":["performLogin","gubun","empNo","empPwd","navigate","setError","response","fetchData","api","common","setUser","useStore","error"],"mappings":"6DAKY,MAACA,EAAe,MAAOC,EAAOC,EAAOC,EAAQC,EAAUC,IAAa,CAC9E,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAUC,EAAKC,EAAO,aAAa,YAAY,EAAG,CAAE,MAAAP,EAAO,OAAAC,EAAQ,EAE1F,GAAKG,EAAS,QAGZ,GAAIA,EAAS,SAAW,GACtBD,EAASC,EAAS,MAAM,MACnB,CACL,GAAIA,EAAS,KAAK,KAAK,WAAa,IAClC,OAAOA,EAGT,KAAM,CAAE,QAAAI,CAAO,EAAKC,EAAS,SAAQ,EACrCD,EAAQ,CACN,GAAGJ,EAAS,KAAK,KACjB,UAAWA,EAAS,KAAK,UAAY,GAC/C,CAAS,EAEGL,IAAU,MAAOG,EAAS,QAAS,CAAE,QAAS,GAAM,EACnDA,EAAS,eAAgB,CAAE,QAAS,EAAI,CAAE,CAGjD,KAnBA,OAAM,IAAI,MAAME,EAAS,QAAU,uBAAuB,CAqB9D,OAASM,EAAO,CACd,QAAQ,MAAM,eAAgBA,EAAM,OAAO,EAC3CP,EAASO,EAAM,SAAW,yBAAyB,CACrD,CACA,OAAO,IACT"}