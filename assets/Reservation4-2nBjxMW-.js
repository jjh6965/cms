import{b as D,u as A,r as c,h as E,j as e,c as w,d as f}from"./index-NQW_x_Sn.js";import{C as M}from"./CommonPopup-Dwp1i3fD.js";import{D as T}from"./react-datepicker-D9fc_BLh.js";import"./index-BBx72Rax.js";const P=()=>{const{user:p}=D(),S=A(),[x,m]=c.useState([{id:"8A",label:"8인실-A",type:"프리미엄",capacity:8,x:0,y:0,width:10,height:3,color:"#FF6B35",status:"예약가능",price:15e5,amenities:["8K 모니터","화상회의 시설","프리미엄 의자","화이트보드","프로젝터"]},{id:"8B",label:"8인실-B",type:"프리미엄",capacity:8,x:10,y:0,width:10,height:3,color:"#FF6B35",status:"예약가능",price:16e5,amenities:["8K 모니터","화상회의 시설","프리미엄 의자","화이트보드","프로젝터"]},{id:"8C",label:"8인실-C",type:"프리미엄",capacity:8,x:0,y:3,width:10,height:3,color:"#FF6B35",status:"예약가능",price:16e5,amenities:["8K 모니터","화상회의 시설","프리미엄 의자","화이트보드","프로젝터"]},{id:"8D",label:"8인실-D",type:"프리미엄",capacity:8,x:10,y:3,width:10,height:3,color:"#FF6B35",status:"예약가능",price:16e5,amenities:["8K 모니터","화상회의 시설","프리미엄 의자","화이트보드","프로젝터"]}]),[z,h]=c.useState([]),[R,y]=c.useState(!1),[a,u]=c.useState(null),[s,g]=c.useState({name:"",gender:"",phone:"",date:null,duration:""}),k=()=>{const t=x.length,r=x.filter(i=>i.status==="예약가능").length,d=t-r,n=t>0?Math.round(d/t*100):0;return{totalRooms:t,availableRooms:r,reservedRooms:d,occupancyRate:n,satisfactionRate:98}},C=t=>{t.status==="예약가능"?(u(t),y(!0)):alert(`${t.label}은(는) 이미 예약되었습니다.`)},v=t=>{const{name:r,value:d}=t.target;g(n=>({...n,[r]:d}))},F=t=>{g(r=>({...r,date:t}))},I=t=>{g(r=>({...r,duration:t}))},B=async()=>{var t,r;if(s.name&&s.gender&&s.phone&&s.date&&s.duration){const n={params:{pGUBUN:"I",pRESERVATIONID:`IMSI${String(Math.floor(Math.random()*1e4)).padStart(4,"0")}`,pROOMID:a.id,pEMPNO:(p==null?void 0:p.empNo)||"",pNAME:s.name,pGENDER:s.gender,pPHONE:s.phone,pRESERVATIONDATE:s.date.toISOString().split("T")[0],pDURATION:s.duration,pSTATUS:"사용 중"}};try{console.log("Sending reservation data:",n);const i=await w.post(f.getServerUrl("reservation/reservation/save"),n);console.log("API response:",i),i.data.success?(h([...z,a.id]),m(x.map(o=>o.id===a.id?{...o,status:"사용 중"}:o)),console.log("예약 확정:",{room:a.label,...s}),y(!1),u(null),g({name:"",gender:"",phone:"",date:null,duration:""}),alert(`${a.label} 예약이 완료되었습니다!`)):alert("예약 저장에 실패했습니다: "+(i.data.message||"서버 응답 오류"))}catch(i){console.error("예약 저장 오류:",i,{url:f.getServerUrl("reservation/reservation/save"),requestData:n,response:i.response}),alert("예약 저장 중 오류가 발생했습니다: "+(((r=(t=i.response)==null?void 0:t.data)==null?void 0:r.message)||i.message))}}else alert("모든 필수 정보를 입력해주세요.")},W=()=>{y(!1),u(null),g({name:"",gender:"",phone:"",date:null,duration:""})};c.useEffect(()=>{(!p||!E(p.auth,"reservationCreate"))&&S("/")},[p,S]),c.useEffect(()=>{const t=async()=>{var d,n;try{const i=await w.post(f.getServerUrl("reservation/reservation/list"),{params:{DEBUG:"F"}});if(console.log("Fetched reservations:",i.data),i.data.success&&Array.isArray(i.data.data)){const o=i.data.data.filter(l=>l.STATUS==="사용 중").map(l=>l.ROOMID);m(l=>l.map(j=>o.includes(j.id)?{...j,status:"사용 중"}:{...j,status:"예약가능"})),h(o)}else console.warn("No valid reservation data:",i.data.message||"No data"),m(o=>o.map(l=>({...l,status:"예약가능"}))),h([])}catch(i){console.error("Failed to fetch reservations:",i,{url:f.getServerUrl("reservation/reservation/list"),response:i.response}),alert("예약 데이터를 가져오는 중 오류가 발생했습니다: "+(((n=(d=i.response)==null?void 0:d.data)==null?void 0:n.message)||i.message)),m(o=>o.map(l=>({...l,status:"예약가능"}))),h([])}};t();const r=setInterval(t,5e3);return()=>clearInterval(r)},[]);const b=k();return e.jsxs("div",{style:{minHeight:"100vh",maxWidth:"1400px",margin:"0 auto",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif"},children:[e.jsx("header",{style:{background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",padding:"1.5rem 0"},children:e.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"0 2rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:"50px",height:"50px",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"white",fontWeight:"bold"},children:"🏢"}),e.jsxs("div",{children:[e.jsx("h1",{style:{color:"white",fontSize:"2rem",fontWeight:"700",margin:0,background:"linear-gradient(45deg, #FFD700, #FFA500)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"(주)시한오피스"}),e.jsx("p",{style:{color:"#a8b9ff",fontSize:"0.9rem",margin:0,fontWeight:"400"},children:"B section 공유 오피스"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("span",{style:{color:"#FFD700",fontSize:"1rem",fontWeight:"500"},children:"관리자"}),e.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #FFD700, #FFA500)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"1rem"},children:"JB"})]})]})}),e.jsx("main",{style:{padding:"3rem 2rem"},children:e.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[e.jsx("h2",{style:{fontSize:"3rem",fontWeight:"800",color:"white",textShadow:"2px 4px 12px rgba(0,0,0,0.3)",marginBottom:"1rem"},children:"4F - 8인실"}),e.jsx("p",{style:{fontSize:"1.2rem",color:"rgba(255,255,255,0.9)",maxWidth:"600px",margin:"0 auto",lineHeight:"1.6"},children:"최신 시설과 편안한 환경을 제공하는 프리미엄 공유 오피스에서 여러분의 비즈니스를 성장시켜보세요."})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1.5rem",marginBottom:"3rem"},children:[e.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"2rem",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",backdropFilter:"blur(10px)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:"50px",height:"50px",background:"rgba(255,255,255,0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"🏠"}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"2.5rem",fontWeight:"700",color:"white",margin:0},children:b.totalRooms}),e.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"1rem",margin:0},children:"전체 룸"})]})]})}),e.jsx("div",{style:{background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",padding:"2rem",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",backdropFilter:"blur(10px)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:"50px",height:"50px",background:"rgba(255,255,255,0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"✅"}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"2.5rem",fontWeight:"700",color:"white",margin:0},children:b.availableRooms}),e.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"1rem",margin:0},children:"이용 가능"})]})]})}),e.jsx("div",{style:{background:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)",padding:"2rem",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",backdropFilter:"blur(10px)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:"50px",height:"50px",background:"rgba(255,255,255,0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"📊"}),e.jsxs("div",{children:[e.jsxs("p",{style:{fontSize:"2.5rem",fontWeight:"700",color:"white",margin:0},children:[b.occupancyRate,"%"]}),e.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"1rem",margin:0},children:"점유율"})]})]})}),e.jsx("div",{style:{background:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",padding:"2rem",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",backdropFilter:"blur(10px)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:"50px",height:"50px",background:"rgba(255,255,255,0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"⭐"}),e.jsxs("div",{children:[e.jsxs("p",{style:{fontSize:"2.5rem",fontWeight:"700",color:"white",margin:0},children:[b.satisfactionRate,"%"]}),e.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"1rem",margin:0},children:"만족도"})]})]})})]}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",borderRadius:"25px",padding:"3rem",boxShadow:"0 20px 50px rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.3)",backdropFilter:"blur(10px)"},children:[e.jsx("div",{style:{textAlign:"center",marginBottom:"2rem"},children:e.jsx("p",{style:{color:"#7f8c8d",fontSize:"1.1rem"},children:"원하시는 룸을 클릭하여 예약하세요"})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(20, 1fr)",gap:"1rem",maxWidth:"1600px",margin:"0 auto"},children:[x.map(t=>e.jsxs("div",{style:{gridColumn:`${t.x+1} / span ${t.width}`,gridRow:`${t.y+1} / span ${t.height}`,background:t.status==="사용 중"?"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)":`linear-gradient(135deg, ${t.color} 0%, ${t.color}dd 100%)`,borderRadius:"15px",padding:"1.5rem",cursor:t.status==="사용 중"?"not-allowed":"pointer",pointerEvents:t.status==="사용 중"?"none":"auto",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden",boxShadow:"0 8px 25px rgba(0,0,0,0.15)",border:"2px solid rgba(255,255,255,0.2)",minHeight:"120px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",transform:t.status==="사용 중"?"none":"translateY(0)"},onClick:()=>C(t),onMouseEnter:r=>{t.status!=="사용 중"&&(r.target.style.transform="translateY(-8px) scale(1.02)",r.target.style.boxShadow="0 15px 40px rgba(0,0,0,0.25)")},onMouseLeave:r=>{t.status!=="사용 중"&&(r.target.style.transform="translateY(0) scale(1)",r.target.style.boxShadow="0 8px 25px rgba(0,0,0,0.15)")},children:[e.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",background:t.status==="예약가능"?"rgba(46, 204, 113, 0.9)":"rgba(231, 76, 60, 0.9)",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"600"},children:t.status==="예약가능"?"이용가능":"예약완료"}),e.jsxs("div",{style:{textAlign:"center",color:"white",textShadow:"1px 2px 4px rgba(0,0,0,0.3)"},children:[e.jsx("h4",{style:{fontSize:"1.3rem",fontWeight:"700",margin:"0 0 0.5rem 0"},children:t.label}),e.jsxs("p",{style:{fontSize:"0.9rem",opacity:.9,margin:"0 0 0.5rem 0"},children:[t.type," • ",t.capacity,"명"]}),e.jsxs("p",{style:{fontSize:"1rem",fontWeight:"600",margin:0},children:["₩",t.price.toLocaleString()]})]})]},t.id)),e.jsxs("div",{style:{gridColumn:"10 / span 2",gridRow:"6 / span 0",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",animation:"pulse 2s infinite"},children:[e.jsx("div",{style:{fontSize:"1.2rem",color:"#e74c3c"},children:"🔽"}),e.jsx("span",{style:{color:"#e74c3c",fontWeight:"700",fontSize:"0.7rem"},children:"입구"})]})]})]}),e.jsxs("div",{style:{marginTop:"3rem",background:"rgba(255,255,255,0.95)",borderRadius:"20px",padding:"2.5rem",boxShadow:"0 15px 35px rgba(0,0,0,0.1)",backdropFilter:"blur(10px)"},children:[e.jsx("h4",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#2c3e50",marginBottom:"2rem",textAlign:"center"},children:"룸 타입 가이드"}),e.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"space-between"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1.5rem",background:"linear-gradient(135deg, #FF6B35 0%, #F7931E 100%)",borderRadius:"15px",color:"white",boxShadow:"0 8px 20px rgba(255, 107, 53, 0.3)",flex:"1"},children:[e.jsx("div",{style:{width:"50px",height:"50px",background:"rgba(255,255,255,0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"👥"}),e.jsxs("div",{children:[e.jsx("h5",{style:{fontWeight:"600",fontSize:"1.1rem",margin:"0 0 0.5rem 0"},children:"8인실 프리미엄"}),e.jsx("p",{style:{fontSize:"0.9rem",opacity:.9,margin:0},children:"대형 회의테이블, 8K 모니터, 화상회의 시설, 프로젝터"})]})]})})]})]})}),e.jsx(M,{show:R,onHide:W,onConfirm:B,title:"🏢 예약 확인",children:a&&e.jsxs("div",{style:{fontSize:"var(--bs-body-font-size, 1rem)",lineHeight:1.6},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"1rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",color:"white"},children:[e.jsx("h4",{style:{margin:"0 0 0.5rem 0",fontSize:"1.3rem",fontWeight:"600"},children:a.label}),e.jsxs("p",{style:{margin:0,opacity:.9},children:[a.type," • ",a.capacity,"명 • ₩",a.price.toLocaleString()]})]}),e.jsxs("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:"10px",marginBottom:"1.5rem"},children:[e.jsx("h5",{style:{margin:"0 0 1rem 0",color:"#2c3e50",fontSize:"1rem",fontWeight:"600"},children:"📋 예약 정보 입력"}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#2c3e50"},children:"👤 이름"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:v,placeholder:"이름을 입력하세요",style:{width:"100%",padding:"calc(0.5rem * var(--bs-scaling, 1))",borderRadius:"8px",border:"2px solid #e9ecef",fontSize:"var(--bs-body-font-size, 1rem)",transition:"border-color 0.3s ease",boxSizing:"border-box"},onFocus:t=>t.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor="#e9ecef"})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#2c3e50"},children:"⚥ 성별"}),e.jsxs("select",{name:"gender",value:s.gender,onChange:v,style:{width:"100%",padding:"calc(0.5rem * var(--bs-scaling, 1))",borderRadius:"8px",border:"2px solid #e9ecef",fontSize:"var(--bs-body-font-size, 1rem)",transition:"border-color 0.3s ease",boxSizing:"border-box"},onFocus:t=>t.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor="#e9ecef",children:[e.jsx("option",{value:"",children:"성별을 선택하세요"}),e.jsx("option",{value:"Male",children:"남성"}),e.jsx("option",{value:"Female",children:"여성"})]})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#2c3e50"},children:"📞 전화번호"}),e.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:v,placeholder:"010-0000-0000",style:{width:"100%",padding:"calc(0.5rem * var(--bs-scaling, 1))",borderRadius:"8px",border:"2px solid #e9ecef",fontSize:"var(--bs-body-font-size, 1rem)",transition:"border-color 0.3s ease",boxSizing:"border-box"},onFocus:t=>t.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor="#e9ecef"})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#2c3e50"},children:"📅 예약 날짜"}),e.jsx(T,{selected:s.date,onChange:F,dateFormat:"yyyy-MM-dd",placeholderText:"예약 날짜를 선택하세요",style:{width:"100%",padding:"calc(0.5rem * var(--bs-scaling, 1))",borderRadius:"8px",border:"2px solid #e9ecef",fontSize:"var(--bs-body-font-size, 1rem)",transition:"border-color 0.3s ease",boxSizing:"border-box"},onFocus:t=>t.target.style.borderColor="#667eea",onBlur:t=>t.target.style.borderColor="#e9ecef",minDate:new Date,className:"custom-datepicker"})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"1rem",fontWeight:"500",color:"#2c3e50"},children:"⏰ 예약 기간"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.5rem"},children:["1","6","12"].map(t=>e.jsxs("button",{type:"button",onClick:()=>I(t),style:{padding:"calc(0.75rem * var(--bs-scaling, 1))",background:s.duration===t?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#f8f9fa",color:s.duration===t?"white":"#2c3e50",border:s.duration===t?"2px solid #667eea":"2px solid #e9ecef",borderRadius:"8px",cursor:"pointer",fontSize:"var(--bs-body-font-size, 1rem)",fontWeight:"500",transition:"all 0.3s ease"},onMouseEnter:r=>{s.duration!==t&&(r.target.style.background="#e9ecef",r.target.style.borderColor="#667eea")},onMouseLeave:r=>{s.duration!==t&&(r.target.style.background="#f8f9fa",r.target.style.borderColor="#e9ecef")},children:[t,"개월"]},t))})]})]}),e.jsxs("div",{style:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",padding:"1.5rem",borderRadius:"10px",marginBottom:"1rem"},children:[e.jsx("h5",{style:{margin:"0 0 1rem 0",color:"#2c3e50",fontSize:"1rem",fontWeight:"600"},children:"✨ 포함 시설 & 혜택"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[a.amenities.map((t,r)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{color:"#27ae60",fontSize:"1rem"},children:"✓"}),e.jsx("span",{style:{fontSize:"0.9rem",color:"#2c3e50"},children:t})]},r)),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{color:"#27ae60",fontSize:"1rem"},children:"✓"}),e.jsx("span",{style:{fontSize:"0.9rem",color:"#2c3e50"},children:"무료 WiFi"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{color:"#27ae60",fontSize:"1rem"},children:"✓"}),e.jsx("span",{style:{fontSize:"0.9rem",color:"#2c3e50"},children:"카페 라운지 이용"})]})]})]})]})}),e.jsx("style",{children:`
        @keyframes pulse {
          0%,
          100% {
            opacity: 1;
          }
          50% {
            opacity: 0.5;
          }
        }
        .custom-datepicker {
          width: 100%;
          padding: calc(0.5rem * var(--bs-scaling, 1));
          border-radius: 8px;
          border: 2px solid #e9ecef;
          font-size: var(--bs-body-font-size, 1rem);
          transition: border-color 0.3s ease;
        }
        .custom-datepicker:focus {
          outline: none;
          border-color: #667eea;
          box-shadow: 0 0 5px rgba(102, 126, 234, 0.5);
        }
        label {
          font-weight: 500;
          margin-bottom: calc(0.25rem * var(--bs-scaling, 1));
          display: block;
          color: #2c3e50;
        }
      `})]})};export{P as default};
//# sourceMappingURL=Reservation4-2nBjxMW-.js.map
